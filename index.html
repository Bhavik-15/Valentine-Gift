<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>For My Love ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background: linear-gradient(135deg,#ff9a9e,#fad0c4);
    min-height:100vh;
    text-align:center;
    color:white;
    overflow-x:hidden;
    padding:20px;
}

.container{
    max-width:900px;
    margin:auto;
    padding-top:50px;
}

/* Text */
h1{font-size:clamp(1.6rem,4vw,2.5rem);}
p{font-size:clamp(1rem,2.5vw,1.2rem);line-height:1.6;}

/* Buttons */
button{
    padding:14px 28px;
    font-size:1rem;
    border:none;
    border-radius:40px;
    background:white;
    color:#ff4b6e;
    cursor:pointer;
    margin:8px;
}

/* üíå POPUP FIX */
.popup{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,.6);
    display:none;
    align-items:center;
    justify-content:center;
    padding:20px;
    z-index:10;
}

.popup-content{
    background:white;
    color:#ff4b6e;
    padding:25px;
    border-radius:20px;
    width:100%;
    max-width:420px;
    max-height:80vh;        /* KEY FIX */
    overflow-y:auto;        /* Scroll if needed */
}

/* üì∏ Gallery */
#gallery{
    display:none;
    margin-top:30px;
}

/* Slideshow */
.slideshow{
    position:relative;
    max-width:320px;
    margin:20px auto;
}

.slide{
    display:none;
}

.slide img{
    width:100%;
    border-radius:20px;
    box-shadow:0 8px 20px rgba(0,0,0,0.3);
}

/* Hearts */
.heart{
    position:fixed;
    bottom:-40px;
    font-size:22px;
    animation:floatUp 6s linear infinite;
}

@keyframes floatUp{
    to{transform:translateY(-110vh);opacity:0;}
}

/* Roses */
.rose{
    position:fixed;
    top:-40px;
    font-size:24px;
    animation:fallDown 8s linear infinite;
}

@keyframes fallDown{
    to{transform:translateY(110vh);opacity:.7;}
}

</style>
</head>

<body>

<div class="container">

<h1>Happy Valentine‚Äôs Day My Love ‚ù§Ô∏è</h1>

<p>
From the moment you came into my life,<br>
everything became more beautiful üå∏<br><br>
This little surprise is just a small way<br>
to show how much you mean to me üíï
</p>

<button id="exploreBtn" onclick="openLetter()">Yes, Explore üéÅ</button><br>

<audio id="song" src="song.mp3"></audio>
<button onclick="toggleMusic()" id="musicBtn">‚ñ∂Ô∏è Play Music</button>

<!-- üì∏ SLIDESHOW GALLERY -->
<div id="gallery">

<h2>Our Beautiful Memories üì∏</h2>

<div class="slideshow">

<div class="slide"><img src="photo1.jpg"></div>
<div class="slide"><img src="photo2.jpg"></div>
<div class="slide"><img src="photo3.jpg"></div>
<div class="slide"><img src="photo4.jpg"></div>

</div>

</div>

</div>

<!-- üíå LETTER POPUP -->
<div class="popup" id="popup">
  <div class="popup-content">

    <h2>üíå A Letter For You</h2>

    <p>
    My Love,<br><br>
    Every moment with you is my favorite memory.<br>
    You are my happiness, my peace, my forever ‚ù§Ô∏è<br><br>
    I hope this surprise makes you smile üíñ
    </p>

    <button onclick="startSurprise()">Open Memories üì∏</button>

  </div>
</div>

<script>

let isPlaying=false;
let slideIndex=0;

/* Open Letter */
function openLetter(){
    document.getElementById("popup").style.display="flex";
}

/* Start Surprise */
function startSurprise(){

    document.getElementById("popup").style.display="none";
    document.getElementById("exploreBtn").style.display="none";
    document.getElementById("gallery").style.display="block";

    playMusic();
    fireworks();
    hearts();
    roses();
    startSlideshow();
}

/* Music */
function playMusic(){
    const song=document.getElementById("song");
    const btn=document.getElementById("musicBtn");

    song.play();
    btn.innerHTML="‚è∏ Pause Music";
    isPlaying=true;
}

function toggleMusic(){
    const song=document.getElementById("song");
    const btn=document.getElementById("musicBtn");

    if(isPlaying){
        song.pause();
        btn.innerHTML="‚ñ∂Ô∏è Play Music";
    }else{
        song.play();
        btn.innerHTML="‚è∏ Pause Music";
    }

    isPlaying=!isPlaying;
}

/* üéû Slideshow */
function startSlideshow(){
    const slides=document.getElementsByClassName("slide");

    for(let i=0;i<slides.length;i++){
        slides[i].style.display="none";
    }

    slideIndex++;
    if(slideIndex>slides.length){slideIndex=1;}

    slides[slideIndex-1].style.display="block";

    setTimeout(startSlideshow,2500); // change every 2.5 sec
}

/* Fireworks */
function fireworks(){
    var duration=5*1000;
    var end=Date.now()+duration;

    (function frame(){
        confetti({particleCount:6,angle:60,spread:70,origin:{x:0}});
        confetti({particleCount:6,angle:120,spread:70,origin:{x:1}});
        if(Date.now()<end){requestAnimationFrame(frame);}
    }());
}

/* Hearts */
function hearts(){
    setInterval(()=>{
        const heart=document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML="üíñ";
        heart.style.left=Math.random()*100+"vw";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),7000);
    },500);
}

/* Roses */
function roses(){
    setInterval(()=>{
        const rose=document.createElement("div");
        rose.classList.add("rose");
        rose.innerHTML="üåπ";
        rose.style.left=Math.random()*100+"vw";
        document.body.appendChild(rose);
        setTimeout(()=>rose.remove(),9000);
    },700);
}

</script>

</body>
</html>